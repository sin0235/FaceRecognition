{% extends "base.html" %}
{% block content %}

<div class="card animate">
  <h2>Batch Processing</h2>
  <p class="subtitle">
    Upload nhiều ảnh để chạy nhận diện hàng loạt (Batch Inference).
  </p>

  <form method="POST" enctype="multipart/form-data">
    <input type="file" name="images" multiple accept="image/*">
    <br><br>
    <button class="btn">Run Batch</button>
  </form>

  {% if results %}
  <table style="width:100%; margin-top:30px; border-collapse:collapse">
    <thead>
      <tr style="background:#eef2ff">
        <th style="padding:10px; text-align:left">Image</th>
        <th style="padding:10px; text-align:left">Prediction</th>
        <th style="padding:10px; text-align:left">Score</th>
      </tr>
    </thead>
    <tbody>
      {% for r in results %}
      <tr style="border-bottom:1px solid #e5e7eb">
        <td style="padding:10px">{{ r.image }}</td>
        <td style="padding:10px">{{ r.name }}</td>
        <td style="padding:10px">{{ r.score }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% endif %}
</div>

{% endblock %}
